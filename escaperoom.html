<!DOCTYPE html>
<html>
    <body>
        <h1>Welkom bij de Escaperoom</h1>
    </body>
    
<head>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script> 

    <script>
         function startConfettiRain() {
    let count = 0;
    let maxBursts = 8; // aantal keren dat het knalt
    let interval = setInterval(() => {
        confetti({
            particleCount: 100,
            spread: 160,
            startVelocity: 50,
            origin: {
                x: Math.random(), // willekeurige plek op breedte
                y: Math.random() * 0.5 // bovenste helft van het scherm
            }
        });
        count++;
        if (count >= maxBursts) {
            clearInterval(interval); // stop als max bereikt
        }
    }, 400); 
    }
 // confetti dat later komt geleerd van ChatGPT
        function beginescaperoom() {
            alert("Welkom bij de escaperoom! Klik op Ok om te starten!");
            alert("De eerst puzzel, raad het geheime cijfer tussen de 0 en 200. Succes!")

            // eerste raadsel geheimcijfer raden
            let geheimcijfer = Math.floor(Math.random() * (200)) //geleerd van https://www.w3schools.com/jsref/jsref_random.asp om random nummers te genereren
            let geradencijfer = 0
            while (geradencijfer != geheimcijfer) {
                geradencijfer = prompt("Raad het getal tussen de 0 en 200 om door te kunnen gaan.")
                    if (geradencijfer < geheimcijfer) {
                    alert("Te laag, probeer het opnieuw")}
                    if ( geradencijfer > geheimcijfer) {
                        alert("Te hoog, probeer het opnieuw")}
                    if ( geradencijfer > 200) {
                    alert("IK ZEI TUSSEN DE 0 EN 200!!!!!!!") }
                    if (geradencijfer == geheimcijfer) {
                    alert("Goed gedaan!"); startConfettiRain();}
                    } 
             // tweede puzzel 
            
            let getal_1 = String(Math.floor(Math.random() * 10))
            let getal_2 = String(Math.floor(Math.random() * 10))
            let getal_3 = String(Math.floor(Math.random() * 10))
            let getal_4 = String(Math.floor(Math.random() * 10))
            let geheimcode = getal_1 + getal_2 + getal_3 + getal_4
            var geradencode
            let pogingenover = 5
            
        
            while (geradencode != geheimcode && pogingenover > 0){
                    geradencode = prompt("2de puzzel, raad de 4 cijferige code!")
                    if (!/^\d{4}$/.test(geradencode)){//controleert of er precies 4 cijfers in zitten 
                        alert("Ik wil precies 4 cijfers, geen letters of andere tekens!")
                        continue
                    }   

                    
                    let hint = "hint: "
                    for (let i = 0; i < 4; i++) {
                        if (geradencode[i] == geheimcode[i]) {
                            hint += geradencode[i] + "ğŸŸ¢"
                        }
                        else if (geheimcode.includes(geradencode[i])){ // includes geleerd van : https://www.w3schools.com/jsref/jsref_includes_array.asp
                            hint += geradencode[i] + "ğŸŸ "
                        }
                        else {
                            hint += geradencode[i] + "ğŸ”´"
                        }}
                    
                    if (geradencode != geheimcode){
                        alert(hint)
                        pogingenover --
                        if ( pogingenover > 1){
                            alert("Je hebt nog " + pogingenover + " pogingen over! ")}
                        else if (pogingenover ==1){
                            alert("Je hebt nog " + pogingenover + " poging over! ")}
                        else {
                            alert("Je hebt geen pogingen meer over.ğŸ˜¢")
                        }}

                        
                        } 
                    
            
            if (geradencode == geheimcode){
                alert("Goed gedaan! Je hebt de code geraden!"); startConfettiRain();
                alert("Je bent alweer bij het laatste deel van de escape room. Los de raadsels op. Let op! Je antwoord moet geen hoofdletters bevatten!!")
                }
                
            else{ alert("Helaas je hebt het niet gehaald, je mag alles opnieuw doen.ğŸ˜¢" ) ;
                return;}

            
                
            let raadsels = [
                {
                    vraag: "Ik heb handen maar geen armen, een gezicht maar geen ogen. Wat ben ik?",
                    antwoord: "klok",
                    hint: "Het tikt en hangt vaak aan de muur."
                },
                {
                    vraag: "Hoe meer je ervan wegneemt, hoe groter het wordt. Wat is het?",
                    antwoord: "gat",
                    hint: "Je vindt het vaak in de grond."
                },
                {
                    vraag: "Ik volg je overal maar raak je nooit aan. Wat ben ik?",
                    antwoord: "schaduw",
                    hint: "Je ziet mij vooral als de zon schijnt."
                },
                {
                    vraag: "Wat gaat omhoog maar komt nooit naar beneden?",
                    antwoord: "leeftijd",
                    hint: "Het verandert elk jaar op je verjaardag."
                },
                {
                    vraag: "Wat kun je vangen maar niet gooien?",
                    antwoord: "verkoudheid",
                    hint: "Je voelt je er meestal snotterig van."
                },
                {
                    vraag: "Hoe noem je een boemerang die niet terugkomt?",
                    antwoord: "stok",
                    hint: "Hij lijkt op iets dat je gooit... maar dan zonder magie."
                },
                {
                    vraag: "Hoeveel maanden van het jaar hebben 28 dagen? Antwoord in cijfers!! ",
                    antwoord: "12",
                    hint: "Denk goed na... het zijn er meer dan je denkt!"
                },
                {
                    vraag: "Wat heeft een nek maar geen hoofd?",
                    antwoord: "fles",
                    hint: "Je giet er iets uit."
                },
                {
                    vraag: "Wat heeft een begin maar geen einde, en komt voor de tijd?",
                    antwoord: "alfabet",
                    hint: "A komt voor T, letterlijk."
                },
                {
                    vraag: "Wat is altijd voor je, maar kun je nooit bereiken?",
                    antwoord: "toekomst",
                    hint: "Het gebeurt straks pas."
                },
                {
                    vraag: "Hoe meer je deelt, hoe meer je hebt. Wat is het?",
                    antwoord: "vreugde",
                    hint: "Je voelt je er blij door en het is besmettelijk op een goede manier."
                },
                {
                    vraag: "Wat gaat de hele wereld rond maar blijft in een hoek?",
                    antwoord: "postzegel",
                    hint: "Klein, plakkerig, en reist met brieven."
                },
                {
                    vraag: "Wat loopt maar heeft geen benen?",
                    antwoord: "klok",
                    hint: "Het tikt maar loopt nergens heen."
                },
                {
                    vraag: "Wat leeft als je het voedt, maar sterft als je het water geeft?",
                    antwoord: "vuur",
                    hint: "Pas op, het brandt!"
                },
                {
                    vraag: "Wat kun je niet zien, aanraken of horen, maar je weet dat het er is?",
                    antwoord: "gedachte",
                    hint: "Het speelt zich af in je hoofd."
                }

            ];

            // Functie om een willekeurig raadsel te kiezen en te verwijderen uit de lijst
            function WillekeurigRaadsel() {
                let nummerraadsel = Math.floor(Math.random() * raadsels.length);
                let gekozenraadsel = raadsels[nummerraadsel];
                raadsels.splice(nummerraadsel, 1); // verwijder het uit de lijst zodat het niet dubbel komt
                return gekozenraadsel;
            }
            alert("Je bent alweer bij het laatste deel van de escape room. Los de raadsels op. Let op! Je antwoord moet geen hoofdletters bevatten!!")
            //Eerste Raadsel
            let raadsel1 = WillekeurigRaadsel();
            let pogingen1 = 2;
            let geradenantwoord1;

            while (pogingen1 > 0) {
                geradenantwoord1 = prompt("Eerste raadsel: " + raadsel1.vraag);

                if (geradenantwoord1 === raadsel1.antwoord) {
                    alert("âœ… Goed gedaan! Op naar het volgende raadsel!"); break;
                   }
                 else {
                    pogingen1--;
                    if (pogingen1 === 1) {
                        alert("âŒ Fout. Nog 1 poging. Hint: " + raadsel1.hint);
                    } else {
                        alert("âŒ Je hebt het niet gehaald! Probeer het later opnieuw.");
                        return;
                    }
                }
            }
             //Tweede Raadsel
            let raadsel2 = WillekeurigRaadsel();
            let pogingen2 = 2;
            let geradenantwoord2;

            while (pogingen2 > 0) {
                geradenantwoord2 = prompt("Tweede raadsel: " + raadsel2.vraag);

                if (geradenantwoord2 === raadsel2.antwoord) {
                    alert("âœ… Goed gedaan! Op naar het volgende raadsel!"); break;
                   }
                 else {
                    pogingen2--;
                    if (pogingen2 === 1) {
                        alert("âŒ Fout. Nog 1 poging. Hint: " + raadsel2.hint);
                    } else {
                        alert("âŒ Je hebt het niet gehaald! Probeer het later opnieuw.");
                        return;
                    }
                }
            }
            //derde Raadsel
            let raadsel3 = WillekeurigRaadsel();
            let pogingen3 = 2;
            let geradenantwoord3;

            while (pogingen3 > 0) {
                geradenantwoord3 = prompt("Derde raadsel: " + raadsel3.vraag);

                if (geradenantwoord3 === raadsel3.antwoord) {
                    alert("âœ… Goed gedaan! Op naar het laatste raadsel!"); break;
                   }
                 else {
                    pogingen3--;
                    if (pogingen3 === 1) {
                        alert("âŒ Fout. Nog 1 poging. Hint: " + raadsel1.hint);
                    } else {
                        alert("âŒ Je hebt het niet gehaald! Probeer het later opnieuw.");
                        return;
                    }
                }
            }
            //Vierde Raadsel
            let raadsel4 = WillekeurigRaadsel();
            let pogingen4 = 2;
            let geradenantwoord4;

            while (pogingen4 > 0) {
                geradenantwoord4 = prompt("Vierde raadsel: " + raadsel4.vraag);

                if (geradenantwoord4 === raadsel4.antwoord) {
                    alert("âœ… Goed gedaan! Dat waren alle raadsels!"); break;
                   }
                 else {
                    pogingen4 --;
                    if (pogingen4 === 1) {
                        alert("âŒ Fout. Nog 1 poging. Hint: " + raadsel4.hint);
                    } else {
                        alert("âŒ Je hebt het niet gehaald! Probeer het later opnieuw.");
                        return;
                    }
                }
            }
            startConfettiRain()
            alert("Je hebt de escaperoom gehaald! Gefeliciteerd!!ğŸ‰ğŸ‰")
            
            
                
            


        }
        beginescaperoom() 
    </script>
</head>
</html>


